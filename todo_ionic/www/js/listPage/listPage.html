<ion-header-bar class="bar-royal">
  <button class="button button-icon icon ion-ios-minus-outline" ng-click="showDelete = !showDelete; showReorder = false"></button>
  <!-- <button class="button button-icon">
          <i class="icon ion-funnel"></i>
        </button> -->
  <h1 class="title">Tasks</h1>

  <button class="button button-icon" 
          ng-click="newTask()">
          <i class="icon ion-compose"></i>
  </button>
</ion-header-bar>

<ion-content>
  <ion-list show-delete="showDelete">

    <ion-item ng-repeat="task in tasks | filter:filterByCompleted | orderBy:'-created'" 
              ng-click="editTask(task)" 
              class="item-icon-right item-thumbnail-left"
              item="task">

      <img data-ng-src="data:image/png;base64,{{task.img}}" data-err-src="img/default.png" />
      <h2>{{task.title}}</h2>
      <p>{{ task.description }}</p>
      <i ng-if="task.completed" class="icon ion-checkmark-circled"></i>
    </ion-item>

    <div class="item" ng-if="tasks.length < 1">
      Click the button in the top right to create your first task.
    </div>

  </ion-list>

</ion-content>

<ion-footer-bar>
  <div class="buttons">
    <button class="button" ng-click="showCompleted = !showCompleted">
        <i class="icon"
            ng-class="{'ion-ios-circle-outline': !showCompleted, 
                        'ion-checkmark-circled': showCompleted}"></i>
      Toggle Completed
    </button>
  </div>
  <h1 class="title"></h1>
  <div class="buttons" ng-click="showActionSheet()">
    <button class="button">Task functions</button>
  </div>
</ion-footer-bar>
</ion-side-menu-content>